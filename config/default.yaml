# Default configuration for gralph
defaults:
  max_iterations: 30
  task_file: PRD.md
  completion_marker: COMPLETE
  auto_worktree: true
  context_files: ARCHITECTURE.md, DECISIONS.md, CHANGELOG.md, RISK_REGISTER.md, PROCESS.md
  # Backend: claude, opencode, gemini, or codex
  backend: claude
  # Model depends on backend:
  #   claude: claude-opus-4-5
  #   opencode: opencode/example-code-model, anthropic/claude-opus-4-5, google/gemini-1.5-pro
  #   gemini: gemini-1.5-pro
  #   codex: example-codex-model
  # model:

verifier:
  test_command: cargo test --workspace
  coverage_command: cargo tarpaulin --workspace --fail-under 60 --exclude-files src/main.rs src/core.rs src/notify.rs src/server.rs src/backend/*
  coverage_min: 90
  auto_run: true
  pr:
    base: main
    title: "chore: verifier run"
  review:
    enabled: true
    reviewer: greptile
    min_rating: 8
    max_issues: 0
    poll_seconds: 20
    timeout_seconds: 1800
    require_approval: false
    require_checks: true
    merge_method: merge

# Claude Code backend settings
claude:
  flags:
    - --dangerously-skip-permissions
  env:
    IS_SANDBOX: "1"

# OpenCode backend settings
opencode:
  # Model format: provider/model (e.g., opencode/example-code-model)
  # Leave empty to use opencode's default
  default_model: opencode/example-code-model

# Gemini CLI backend settings
gemini:
  # Available models: gemini-1.5-pro
  default_model: gemini-1.5-pro
  flags:
    - --headless

# Codex CLI backend settings
codex:
  # Available models (placeholder shown): example-codex-model
  default_model: example-codex-model
  flags:
    - --quiet
    - --auto-approve

notifications:
  on_complete: true
  # webhook: https://hooks.example.com/notify

logging:
  level: info
  retain_days: 7
